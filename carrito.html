<div id="carrito">
  <span>Carrito: </span>
  <span id="contador">0</span> <!-- Contador del carrito -->
  <div id="productosCarrito" style="display: none; position: absolute; background: white; border: 1px solid #ccc; padding: 10px;">
    <!-- Aquí se cargarán los productos -->
  </div>
</div>

<script>
  const carritoDiv = document.getElementById('carrito');
  const productosCarrito = document.getElementById('productosCarrito');
  
  carritoDiv.addEventListener('mouseenter', () => {
    const carrito = JSON.parse(localStorage.getItem('carrito')) || [];
    productosCarrito.innerHTML = carrito.map(p => `
      <div>
        <span>${p.nombre}</span> - <span>$${p.precio}</span>
        <button onclick="eliminarProducto('${p.nombre}')">Eliminar</button>
      </div>
    `).join('');
    productosCarrito.style.display = 'block';
  });

  carritoDiv.addEventListener('mouseleave', () => {
    productosCarrito.style.display = 'none';
  });

  function eliminarProducto(nombre) {
    let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
    carrito = carrito.filter(p => p.nombre !== nombre);
    localStorage.setItem('carrito', JSON.stringify(carrito));
    document.getElementById('contador').textContent = carrito.length;
    productosCarrito.innerHTML = carrito.map(p => `
      <div>
        <span>${p.nombre}</span> - <span>$${p.precio}</span>
        <button onclick="eliminarProducto('${p.nombre}')">Eliminar</button>
      </div>
    `).join('');
  }
</script>
